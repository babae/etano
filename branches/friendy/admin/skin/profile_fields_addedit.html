<h2>Add / Edit a Profile Field</h2>

<div class="hint">Field type: <b>{output.fieldtype_text}</b></div>

<form action="processors/profile_fields_addedit.php" method="post" class="edit_form" id="profile_fields_addedit">
<input type="hidden" name="pfield_id" id="pfield_id" value="{output.pfield_id}" />
<input type="hidden" name="field_type" value="{output.field_type}" />
<input type="hidden" name="fk_lk_id_label" value="{output.fk_lk_id_label}" />
<input type="hidden" name="fk_lk_id_search" value="{output.fk_lk_id_search}" />
<input type="hidden" name="fk_lk_id_help" value="{output.fk_lk_id_help}" />
<input type="hidden" name="return" value="{output.return}" />
<div class="clear">
	<label>Db field:</label> {output.dbfield}
</div>
<div class="clear">
	<label for="label">Label:</label>
	<input class="text" type="text" name="label" id="label" value="{output.label}" tabindex="1" />
	<p class="comment">Note: the value you enter here is for the default skin ({output.default_skin}) <a class="thickbox translate" href="popup_lang_string.php?lk_id={output.fk_lk_id_label}&amp;TB_modal=true&amp;height=300&amp;width=750">Translate!</a></p>
</div>
<div class="clear">
	<label for="at_registration">At registration?</label>
	<input class="checkbox" type="checkbox" name="at_registration" id="at_registration" {output.at_registration} value="1" tabindex="2" />
</div>
<div class="{output.row_reg_page} clear" id="row_reg_page">
	<label for="reg_page">On Page:</label>
	<input class="text numeric" type="text" name="reg_page" id="reg_page" value="{output.reg_page}" size="2" maxlength="2" tabindex="3" />
</div>
<div class="{output.row_required} clear">
	<label for="required">Required?</label>
	<input class="checkbox" type="checkbox" name="required" id="required" {output.required} value="1" tabindex="4" />
</div>
<div class="clear">
	<label for="editable">Editable?</label>
	<input class="checkbox" type="checkbox" name="editable" id="editable" {output.editable} value="1" tabindex="5" />
	<p class="comment">Can the user edit this field? Some fields might just be calculated based on other fields and don't need direct editing.</p>
</div>
<div class="{output.row_visible} clear">
	<label for="visible">Visible?</label>
	<input class="checkbox" type="checkbox" name="visible" id="visible" {output.visible} value="1" tabindex="6" />
	<p class="comment">Is this field displayed in user's profile? Some fields (like the zip code) shouldn't be displayed.</p>
</div>
<div class="{output.row_category} clear">
	<label for="fk_pcat_id">Profile Category:</label>
	<select name="fk_pcat_id" id="fk_pcat_id" tabindex="7">
	{output.fk_pcat_id}
	</select>
</div>
<div class="{output.row_help} clear">
	<label for="help_text">Help Text for User:</label>
	<textarea name="help_text" id="help_text" rows="" cols="" tabindex="8">{output.help_text}</textarea>
	<p class="comment">The help text will be added to the right of the field. <a class="translate" href="popup_lang_string.php?lk_id={output.fk_lk_id_help}">Translate!</a></p>
</div>
<div class="clear">
	<label for="search_label">OnChange Function:</label>
	<input class="text" type="text" name="fn_on_change" value="{output.fn_on_change}" id="fn_on_change" tabindex="13" />
	<p class="comment">The name of the php function to be executed after this field is updated by a user. Leave empty if not sure.</p>
</div>

<!--opt name="output.row_searchable"-->
<div class="clear">
	<label for="searchable">Searchable?</label>
	<input class="checkbox" type="checkbox" name="searchable" id="searchable" {output.searchable} value="1" tabindex="9" />
</div>
<div class="clear" id="row_st">
	<label for="search_type">Search Type:</label>
	<select name="search_type" id="search_type" tabindex="10">
	{output.search_type}
	</select>
</div>
<div id="row_bs" class="clear">
	<label for="for_basic">In basic search?</label>
	<input class="checkbox" type="checkbox" name="for_basic" id="for_basic" {output.for_basic} value="1" tabindex="11" />
</div>
<div class="{output.row_sl} clear" id="row_sl">
	<label for="search_label">Search Label:</label>
	<input class="text" type="text" name="search_label" id="search_label" value="{output.search_label}" tabindex="12" />
	<p class="comment">Note: the value you enter here is for the default skin ({output.default_skin}) <a class="thickbox translate" href="popup_lang_string.php?lk_id={output.fk_lk_id_search}&amp;TB_modal=true&amp;height=300&amp;width=750">Translate!</a></p>
</div>
<!--/opt name="output.row_searchable"-->

<div id="custom_config_direct">
{output.custom_config_direct}
</div>

<div id="custom_config_search">
{output.custom_config_search}
</div>

<div class="controls clear">
	<input type="submit" class="button" value="Save" id="btn_save" tabindex="40" />
</div>
</form>

<div id="bottom_links"><a class="back" href="{output.return2}">Back to list</a></div>

<script type="text/javascript">
	var field_type='{output.field_type}';
</script>
<script type="text/javascript" src="../js/thickbox.js?v={tplvars.js_lib_v}"></script>
<script type="text/javascript" src="js/json.js?v={tplvars.js_lib_v}"></script>
<script type="text/javascript" src="js/datastore_pfield.js?v={tplvars.js_lib_v}"></script>
<script type="text/javascript" src="js/profile_fields_addedit.js?v={tplvars.js_lib_v}"></script>
